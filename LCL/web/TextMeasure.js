function TextMeasure(a){this.ownerElem=a?a:document.body;this.measureDiv=document.createElement("div");this.measureDiv.style.position="absolute";this.measureDiv.style.whiteSpace="pre";this.measureDiv.style.visibility="hidden";this.measureDiv.style.overflow="hidden";this.measureDiv.style.textAlign="left";this.measureDiv.style.border="0px none";this.measureDiv.style.margin="0px";this.ownerElem.appendChild(this.measureDiv)}TextMeasure.prototype.SetContent=function(e,g){var d=e.replace(/\r/g,"");var f="";var b=d.split("\n");for(var c=0;c<b.length;++c){if(c!=0){f+="\n"}var a=b[c];if(a==""){a=" "}f+=a}if(g){f+="\n "}RemoveAllChildren(this.measureDiv);this.measureDiv.appendChild(document.createTextNode(f))};TextMeasure.prototype.SetFont=function(d,c,b,a){this.measureDiv.style.fontFamily=d;this.measureDiv.style.fontSize=c;this.measureDiv.style.fontWeight=b?"bold":"normal";this.measureDiv.style.fontStyle=a?"italic":"normal"};TextMeasure.prototype.GetWidth=function(){return this.measureDiv.clientWidth};TextMeasure.prototype.GetHeight=function(){return this.measureDiv.clientHeight};